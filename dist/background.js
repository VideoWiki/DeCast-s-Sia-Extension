(()=>{async function e(){try{const e="https://api.blocknative.com/gasprices/blockprices?confidenceLevels=99&confidenceLevels=90&confidenceLevels=80&confidenceLevels=60",o=await fetch(e),s=await o.json();if(s&&s.blockPrices){const e=s.blockPrices[0].estimatedPrices,o=e.find((e=>90===e.confidence));o&&(c(o.price),chrome.storage.local.set({gasPrices:e}),chrome.runtime.sendMessage({action:"updateGasPrices"}))}else console.error("No gas price data available")}catch(e){console.error("Error fetching gas prices:",e)}}function c(e){chrome.action.setBadgeText({text:e.toString()}),chrome.action.setBadgeBackgroundColor({color:"#ffffff"})}chrome.runtime.onMessage.addListener((function(c,o,s){if("getLocalStorage"===c.action)return chrome.storage.local.get(["accessToken","userInfo"],(function(e){e.accessToken&&e.userInfo?s({accessToken:e.accessToken,userInfo:e.userInfo}):chrome.tabs.query({},(function(e){let c=null;for(let o of e)if(o.url.includes("https://decast.live/")){c=o;break}c?chrome.scripting.executeScript({target:{tabId:c.id},files:["contentScript.js"]},(()=>{chrome.tabs.sendMessage(c.id,{action:"getLocalStorage"},(function(e){e&&e.accessToken&&e.userInfo?chrome.storage.local.set({accessToken:e.accessToken,userInfo:e.userInfo},(function(){s(e)})):s(null)}))})):s(null)}))})),!0;"updateBadge"===c.action&&(c.badgeType,e())})),chrome.runtime.onMessageExternal.addListener((function(e,c,o){"getLocalStorage"===e.action&&o({accessToken:localStorage.getItem("accessToken"),userInfo:JSON.parse(localStorage.getItem("userInfo"))})})),chrome.alarms.create("fetchGasPrices",{periodInMinutes:1.5}),chrome.alarms.onAlarm.addListener((c=>{"fetchGasPrices"===c.name&&e()})),chrome.runtime.onStartup.addListener((()=>{chrome.storage.local.get("latestGasPrice",(e=>{e.latestGasPrice&&c(e.latestGasPrice)}))})),chrome.runtime.onInstalled.addListener((()=>{e()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoiTUErRkFBLGVBQWVDLElBQ2IsSUFDRSxNQUFNQyxFQUNKLG9JQUNJQyxRQUFpQkMsTUFBTUYsR0FDdkJHLFFBQWFGLEVBQVNHLE9BRTVCLEdBQUlELEdBQVFBLEVBQUtFLFlBQWEsQ0FDNUIsTUFBTUEsRUFBY0YsRUFBS0UsWUFBWSxHQUFHQyxnQkFDbENDLEVBQWNGLEVBQVlHLE1BQU1DLEdBQStCLEtBQXJCQSxFQUFNQyxhQUVsREgsSUFFRkksRUFEaUJKLEVBQVlFLE9BRTdCRyxPQUFPQyxRQUFRQyxNQUFNQyxJQUFJLENBQUVDLFVBQVdYLElBQ3RDTyxPQUFPSyxRQUFRQyxZQUFZLENBQUVDLE9BQVEsb0JBRXpDLE1BQ0VDLFFBQVFDLE1BQU0sOEJBRWxCLENBQUUsTUFBT0EsR0FDUEQsUUFBUUMsTUFBTSw2QkFBOEJBLEVBQzlDLENBQ0YsQ0FFQSxTQUFTVixFQUFZVyxHQUNuQlYsT0FBT08sT0FBT0ksYUFBYSxDQUFFQyxLQUFNRixFQUFTRyxhQUM1Q2IsT0FBT08sT0FBT08sd0JBQXdCLENBQUVDLE1BQU8sV0FDakQsQ0EzSEFmLE9BQU9LLFFBQVFXLFVBQVVDLGFBQVksU0FBVUMsRUFBU0MsRUFBUUMsR0FDOUQsR0FBdUIsb0JBQW5CRixFQUFRWCxPQThEVixPQTdEQVAsT0FBT0MsUUFBUUMsTUFBTW1CLElBQUksQ0FBQyxjQUFlLGFBQWEsU0FBVUMsR0FDMURBLEVBQU1DLGFBQWVELEVBQU1FLFNBQzdCSixFQUFhLENBQ1hHLFlBQWFELEVBQU1DLFlBQ25CQyxTQUFVRixFQUFNRSxXQUdsQnhCLE9BQU95QixLQUFLQyxNQUFNLENBQUMsR0FBRyxTQUFVRCxHQUM5QixJQUFJRSxFQUFZLEtBRWhCLElBQUssSUFBSUMsS0FBT0gsRUFDZCxHQUFJRyxFQUFJeEMsSUFBSXlDLFNBQVMsd0JBQXlCLENBQzVDRixFQUFZQyxFQUNaLEtBQ0YsQ0FHRUQsRUFDRjNCLE9BQU84QixVQUFVQyxjQUNmLENBQ0VDLE9BQVEsQ0FBRUMsTUFBT04sRUFBVU8sSUFDM0JDLE1BQU8sQ0FBQyxzQkFFVixLQUNFbkMsT0FBT3lCLEtBQUtuQixZQUNWcUIsRUFBVU8sR0FDVixDQUFFM0IsT0FBUSxvQkFDVixTQUFVbEIsR0FDSkEsR0FBWUEsRUFBU2tDLGFBQWVsQyxFQUFTbUMsU0FDL0N4QixPQUFPQyxRQUFRQyxNQUFNQyxJQUNuQixDQUNFb0IsWUFBYWxDLEVBQVNrQyxZQUN0QkMsU0FBVW5DLEVBQVNtQyxXQUVyQixXQUNFSixFQUFhL0IsRUFDZixJQU1GK0IsRUFBYSxLQUVqQixHQUNELElBVUxBLEVBQWEsS0FFakIsR0FFSixLQUVPLEVBRWdCLGdCQUFuQkYsRUFBUVgsU0FDTlcsRUFBUWtCLFVBQ1ZqRCxJQUtSLElBR0FhLE9BQU9LLFFBQVFnQyxrQkFBa0JwQixhQUFZLFNBQzNDQyxFQUNBQyxFQUNBQyxHQUV1QixvQkFBbkJGLEVBQVFYLFFBR1ZhLEVBQWEsQ0FBRUcsWUFGS2UsYUFBYUMsUUFBUSxlQUViZixTQURYZ0IsS0FBS0MsTUFBTUgsYUFBYUMsUUFBUSxjQUdyRCxJQUVBdkMsT0FBTzBDLE9BQU9DLE9BQU8saUJBQWtCLENBQUVDLGdCQUFpQixNQUUxRDVDLE9BQU8wQyxPQUFPRyxRQUFRNUIsYUFBYTZCLElBQ2QsbUJBQWZBLEVBQU1DLE1BQ1I1RCxHQUNGLElBc0NGYSxPQUFPSyxRQUFRMkMsVUFBVS9CLGFBQVksS0FDbkNqQixPQUFPQyxRQUFRQyxNQUFNbUIsSUFBSSxrQkFBbUI5QixJQUN0Q0EsRUFBSzBELGdCQUNQbEQsRUFBWVIsRUFBSzBELGVBQ25CLEdBQ0EsSUFHSmpELE9BQU9LLFFBQVE2QyxZQUFZakMsYUFBWSxLQUNyQzlCLEdBQWdCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvYmFja2dyb3VuZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XHJcbiAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSBcImdldExvY2FsU3RvcmFnZVwiKSB7XHJcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoW1wiYWNjZXNzVG9rZW5cIiwgXCJ1c2VySW5mb1wiXSwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgIGlmIChpdGVtcy5hY2Nlc3NUb2tlbiAmJiBpdGVtcy51c2VySW5mbykge1xyXG4gICAgICAgIHNlbmRSZXNwb25zZSh7XHJcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogaXRlbXMuYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICB1c2VySW5mbzogaXRlbXMudXNlckluZm8sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoe30sIGZ1bmN0aW9uICh0YWJzKSB7XHJcbiAgICAgICAgICBsZXQgZGVjYXN0VGFiID0gbnVsbDtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCB0YWIgb2YgdGFicykge1xyXG4gICAgICAgICAgICBpZiAodGFiLnVybC5pbmNsdWRlcyhcImh0dHBzOi8vZGVjYXN0LmxpdmUvXCIpKSB7XHJcbiAgICAgICAgICAgICAgZGVjYXN0VGFiID0gdGFiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGRlY2FzdFRhYikge1xyXG4gICAgICAgICAgICBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7IHRhYklkOiBkZWNhc3RUYWIuaWQgfSxcclxuICAgICAgICAgICAgICAgIGZpbGVzOiBbXCJjb250ZW50U2NyaXB0LmpzXCJdLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UoXHJcbiAgICAgICAgICAgICAgICAgIGRlY2FzdFRhYi5pZCxcclxuICAgICAgICAgICAgICAgICAgeyBhY3Rpb246IFwiZ2V0TG9jYWxTdG9yYWdlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmFjY2Vzc1Rva2VuICYmIHJlc3BvbnNlLnVzZXJJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogcmVzcG9uc2UuYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluZm86IHJlc3BvbnNlLnVzZXJJbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgIC8vICAgXCJGYWlsZWQgdG8gcmV0cmlldmUgZGF0YSBmcm9tIGRlY2FzdC5saXZlLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gICB0aGlzLiR2cy5ub3RpZnkoe1xyXG4gICAgICAgICAgLy8gICAgIHRpdGxlOiAnVHJ5IGFnYWluIScsXHJcbiAgICAgICAgICAvLyAgICAgdGV4dDogJ2RlY2FzdC5saXZlIHRhYiBpcyBub3Qgb3BlbiEnLFxyXG4gICAgICAgICAgLy8gICAgIGNvbG9yOiAnd2FybmluZycsXHJcbiAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcImRlY2FzdC5saXZlIHRhYiBpcyBub3Qgb3Blbi5cIik7XHJcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZShudWxsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gICAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSBcInVwZGF0ZUJhZGdlXCIpIHtcclxuICAgICAgaWYgKG1lc3NhZ2UuYmFkZ2VUeXBlID09PSBcImNhc3RcIikge1xyXG4gICAgICAgIGZldGNoR2FzUHJpY2VzKCk7XHJcbiAgICAgIH0gZWxzZXtcclxuICAgICAgICBmZXRjaEdhc1ByaWNlcygpO1xyXG4gICAgICB9XHJcbiAgICB9ICAgXHJcbn0pO1xyXG5cclxuXHJcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZUV4dGVybmFsLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChcclxuICBtZXNzYWdlLFxyXG4gIHNlbmRlcixcclxuICBzZW5kUmVzcG9uc2VcclxuKSB7XHJcbiAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSBcImdldExvY2FsU3RvcmFnZVwiKSB7XHJcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYWNjZXNzVG9rZW5cIik7XHJcbiAgICBjb25zdCB1c2VySW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VySW5mb1wiKSk7XHJcbiAgICBzZW5kUmVzcG9uc2UoeyBhY2Nlc3NUb2tlbiwgdXNlckluZm8gfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNocm9tZS5hbGFybXMuY3JlYXRlKFwiZmV0Y2hHYXNQcmljZXNcIiwgeyBwZXJpb2RJbk1pbnV0ZXM6IDEuNSB9KTtcclxuXHJcbmNocm9tZS5hbGFybXMub25BbGFybS5hZGRMaXN0ZW5lcigoYWxhcm0pID0+IHtcclxuICBpZiAoYWxhcm0ubmFtZSA9PT0gXCJmZXRjaEdhc1ByaWNlc1wiKSB7XHJcbiAgICBmZXRjaEdhc1ByaWNlcygpO1xyXG4gIH1cclxufSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaEdhc1ByaWNlcygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsID1cclxuICAgICAgXCJodHRwczovL2FwaS5ibG9ja25hdGl2ZS5jb20vZ2FzcHJpY2VzL2Jsb2NrcHJpY2VzP2NvbmZpZGVuY2VMZXZlbHM9OTkmY29uZmlkZW5jZUxldmVscz05MCZjb25maWRlbmNlTGV2ZWxzPTgwJmNvbmZpZGVuY2VMZXZlbHM9NjBcIjtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5ibG9ja1ByaWNlcykge1xyXG4gICAgICBjb25zdCBibG9ja1ByaWNlcyA9IGRhdGEuYmxvY2tQcmljZXNbMF0uZXN0aW1hdGVkUHJpY2VzO1xyXG4gICAgICBjb25zdCBub3JtYWxQcmljZSA9IGJsb2NrUHJpY2VzLmZpbmQoKHByaWNlKSA9PiBwcmljZS5jb25maWRlbmNlID09PSA5MCk7XHJcblxyXG4gICAgICBpZiAobm9ybWFsUHJpY2UpIHtcclxuICAgICAgICBjb25zdCBnYXNQcmljZSA9IG5vcm1hbFByaWNlLnByaWNlO1xyXG4gICAgICAgIHVwZGF0ZUJhZGdlKGdhc1ByaWNlKTtcclxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBnYXNQcmljZXM6IGJsb2NrUHJpY2VzIH0pO1xyXG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgYWN0aW9uOiBcInVwZGF0ZUdhc1ByaWNlc1wiIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiTm8gZ2FzIHByaWNlIGRhdGEgYXZhaWxhYmxlXCIpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZ2FzIHByaWNlczpcIiwgZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQmFkZ2UoZ2FzUHJpY2UpIHtcclxuICBjaHJvbWUuYWN0aW9uLnNldEJhZGdlVGV4dCh7IHRleHQ6IGdhc1ByaWNlLnRvU3RyaW5nKCkgfSk7XHJcbiAgY2hyb21lLmFjdGlvbi5zZXRCYWRnZUJhY2tncm91bmRDb2xvcih7IGNvbG9yOiBcIiNmZmZmZmZcIiB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0Q2FzdEJhZGdlKCkge1xyXG4gIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IoeyBjb2xvcjogXCIjZmYwMDAwXCIgfSk7XHJcbn1cclxuXHJcblxyXG5jaHJvbWUucnVudGltZS5vblN0YXJ0dXAuYWRkTGlzdGVuZXIoKCkgPT4ge1xyXG4gIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChcImxhdGVzdEdhc1ByaWNlXCIsIChkYXRhKSA9PiB7XHJcbiAgICBpZiAoZGF0YS5sYXRlc3RHYXNQcmljZSkge1xyXG4gICAgICB1cGRhdGVCYWRnZShkYXRhLmxhdGVzdEdhc1ByaWNlKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5jaHJvbWUucnVudGltZS5vbkluc3RhbGxlZC5hZGRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgZmV0Y2hHYXNQcmljZXMoKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJhc3luYyIsImZldGNoR2FzUHJpY2VzIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwiYmxvY2tQcmljZXMiLCJlc3RpbWF0ZWRQcmljZXMiLCJub3JtYWxQcmljZSIsImZpbmQiLCJwcmljZSIsImNvbmZpZGVuY2UiLCJ1cGRhdGVCYWRnZSIsImNocm9tZSIsInN0b3JhZ2UiLCJsb2NhbCIsInNldCIsImdhc1ByaWNlcyIsInJ1bnRpbWUiLCJzZW5kTWVzc2FnZSIsImFjdGlvbiIsImNvbnNvbGUiLCJlcnJvciIsImdhc1ByaWNlIiwic2V0QmFkZ2VUZXh0IiwidGV4dCIsInRvU3RyaW5nIiwic2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwibWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImdldCIsIml0ZW1zIiwiYWNjZXNzVG9rZW4iLCJ1c2VySW5mbyIsInRhYnMiLCJxdWVyeSIsImRlY2FzdFRhYiIsInRhYiIsImluY2x1ZGVzIiwic2NyaXB0aW5nIiwiZXhlY3V0ZVNjcmlwdCIsInRhcmdldCIsInRhYklkIiwiaWQiLCJmaWxlcyIsImJhZGdlVHlwZSIsIm9uTWVzc2FnZUV4dGVybmFsIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImFsYXJtcyIsImNyZWF0ZSIsInBlcmlvZEluTWludXRlcyIsIm9uQWxhcm0iLCJhbGFybSIsIm5hbWUiLCJvblN0YXJ0dXAiLCJsYXRlc3RHYXNQcmljZSIsIm9uSW5zdGFsbGVkIl0sInNvdXJjZVJvb3QiOiIifQ==